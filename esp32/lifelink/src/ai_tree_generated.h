// Auto-generated from py_decision_tree. Do not edit manually.
#pragma once
#include <stdint.h>

// Auto-generated decision tree inference for ESP32
#include <stdint.h>

// vital: 57 nodes
const int16_t vital_feature[] = {
  1, 11, 71, 10, 9, 0, -2, -2, -2, -2, 51, -2, -2, 17, -2, 47, -2, -2, 40, 1, 17, 53, -2, 39, -2, -2, 39, 77, -2, -2, 26, -2, -2, 17, 0, 42, -2, -2, 75, -2, -2, 60, -2, -2, 0, 77, -2, -2, 78, 1, 63, -2, -2, -2, 17, -2, -2
};
const float vital_threshold[] = {
  0.1275, 0.5, 0.1, 1.5, 0.5, 0.11, -2, -2, -2, -2, 0.0333333, -2, -2, 0.5, -2, 0.1, -2, -2, 0.1, 0.1425, 0.5, 0.1, -2, 0.0333333, -2, -2, 0.0333333, 0.133333, -2, -2, 0.0333333, -2, -2, 2.5, 0.11, 0.1, -2, -2, 0.233333, -2, -2, 0.133333, -2, -2, 0.13, 0.0333333, -2, -2, 0.1, 0.1725, 0.1, -2, -2, -2, 0.5, -2, -2
};
const int16_t vital_left[] = {
  1, 2, 3, 4, 5, 6, -1, -1, -1, -1, 11, -1, -1, 14, -1, 16, -1, -1, 19, 20, 21, 22, -1, 24, -1, -1, 27, 28, -1, -1, 31, -1, -1, 34, 35, 36, -1, -1, 39, -1, -1, 42, -1, -1, 45, 46, -1, -1, 49, 50, 51, -1, -1, -1, 55, -1, -1
};
const int16_t vital_right[] = {
  18, 13, 10, 9, 8, 7, -1, -1, -1, -1, 12, -1, -1, 15, -1, 17, -1, -1, 44, 33, 26, 23, -1, 25, -1, -1, 30, 29, -1, -1, 32, -1, -1, 41, 38, 37, -1, -1, 40, -1, -1, 43, -1, -1, 48, 47, -1, -1, 54, 53, 52, -1, -1, -1, 56, -1, -1
};
const uint8_t vital_leaf[] = {
  255, 255, 255, 255, 255, 255, 0, 1, 1, 1, 255, 0, 1, 255, 1, 255, 0, 1, 255, 255, 255, 255, 1, 255, 0, 1, 255, 255, 0, 1, 255, 1, 0, 255, 255, 255, 1, 0, 255, 1, 0, 255, 0, 1, 255, 255, 0, 1, 255, 255, 255, 1, 0, 1, 255, 1, 0
};

int8_t vital_predict(const float* x) {
  int16_t node = 0;
  while (1) {
    if (vital_leaf[node] != 255)
      return (int8_t)vital_leaf[node];
    int16_t f = vital_feature[node];
    if (f < 0 || f >= 82) return -1;
    if (x[f] <= vital_threshold[node])
      node = vital_left[node];
    else
      node = vital_right[node];
  }
}


// vital: nodes=57 depth=6 ~627 bytes

// intent: 45 nodes
const int16_t intent_feature[] = {
  15, 14, 9, 12, 13, 16, 10, 8, -2, -2, 37, -2, -2, -2, 62, 27, 21, -2, -2, -2, 42, 51, -2, -2, 35, -2, -2, 79, 27, -2, -2, 28, -2, -2, 47, 70, -2, 73, -2, -2, 63, -2, -2, -2, -2
};
const float intent_threshold[] = {
  0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -2, -2, 0.166667, -2, -2, -2, 0.0333333, 0.166667, 0.1, -2, -2, -2, 0.0333333, 0.1, -2, -2, 0.1, -2, -2, 0.0333333, 0.166667, -2, -2, 0.0333333, -2, -2, 0.233333, 0.166667, -2, 0.0333333, -2, -2, 0.0333333, -2, -2, -2, -2
};
const int16_t intent_left[] = {
  1, 2, 3, 4, 5, 6, 7, 8, -1, -1, 11, -1, -1, -1, 15, 16, 17, -1, -1, -1, 21, 22, -1, -1, 25, -1, -1, 28, 29, -1, -1, 32, -1, -1, 35, 36, -1, 38, -1, -1, 41, -1, -1, -1, -1
};
const int16_t intent_right[] = {
  44, 43, 34, 27, 14, 13, 10, 9, -1, -1, 12, -1, -1, -1, 20, 19, 18, -1, -1, -1, 24, 23, -1, -1, 26, -1, -1, 31, 30, -1, -1, 33, -1, -1, 40, 37, -1, 39, -1, -1, 42, -1, -1, -1, -1
};
const uint8_t intent_leaf[] = {
  255, 255, 255, 255, 255, 255, 255, 255, 6, 5, 255, 3, 7, 7, 255, 255, 255, 2, 0, 1, 255, 255, 1, 2, 255, 8, 2, 255, 255, 0, 1, 255, 0, 2, 255, 255, 8, 255, 8, 4, 255, 4, 8, 4, 1
};

int8_t intent_predict(const float* x) {
  int16_t node = 0;
  while (1) {
    if (intent_leaf[node] != 255)
      return (int8_t)intent_leaf[node];
    int16_t f = intent_feature[node];
    if (f < 0 || f >= 82) return -1;
    if (x[f] <= intent_threshold[node])
      node = intent_left[node];
    else
      node = intent_right[node];
  }
}


// intent: nodes=45 depth=8 ~495 bytes

// urgency: 97 nodes
const int16_t urgency_feature[] = {
  13, 12, 75, 15, 2, 8, -2, -2, 10, -2, -2, 4, 25, -2, -2, 48, -2, -2, 8, 32, 23, -2, -2, 15, -2, -2, 54, 6, -2, -2, 8, -2, -2, 6, 61, 4, 64, -2, -2, -2, 75, 71, -2, -2, -2, 38, 43, -2, 24, -2, -2, -2, 9, 6, 55, 27, 70, -2, -2, 44, -2, -2, 12, 35, -2, -2, 26, -2, -2, 44, 65, 81, -2, -2, -2, 62, 60, -2, -2, -2, 27, 34, 45, 51, -2, -2, -2, 0, -2, 77, -2, -2, 1, 60, -2, -2, -2
};
const float urgency_threshold[] = {
  0.5, 0.5, 0.0333333, 0.5, 0.025, 2.5, -2, -2, 0.5, -2, -2, 0.5, 0.1, -2, -2, 0.1, -2, -2, 0.5, 0.0333333, 0.0333333, -2, -2, 0.5, -2, -2, 0.1, 0.5, -2, -2, 1.5, -2, -2, 0.5, 0.0333333, 0.5, 0.1, -2, -2, -2, 0.0333333, 0.0333333, -2, -2, -2, 0.166667, 0.166667, -2, 0.0333333, -2, -2, -2, 0.5, 0.5, 0.0333333, 0.1, 0.166667, -2, -2, 0.0333333, -2, -2, 0.5, 0.0333333, -2, -2, 0.0333333, -2, -2, 0.0333333, 0.166667, 0.1, -2, -2, -2, 0.1, 0.1, -2, -2, -2, 0.1, 0.1, 0.1, 0.1, -2, -2, -2, 0.15, -2, 0.0333333, -2, -2, 0.2375, 0.0333333, -2, -2, -2
};
const int16_t urgency_left[] = {
  1, 2, 3, 4, 5, 6, -1, -1, 9, -1, -1, 12, 13, -1, -1, 16, -1, -1, 19, 20, 21, -1, -1, 24, -1, -1, 27, 28, -1, -1, 31, -1, -1, 34, 35, 36, 37, -1, -1, -1, 41, 42, -1, -1, -1, 46, 47, -1, 49, -1, -1, -1, 53, 54, 55, 56, 57, -1, -1, 60, -1, -1, 63, 64, -1, -1, 67, -1, -1, 70, 71, 72, -1, -1, -1, 76, 77, -1, -1, -1, 81, 82, 83, 84, -1, -1, -1, 88, -1, 90, -1, -1, 93, 94, -1, -1, -1
};
const int16_t urgency_right[] = {
  52, 33, 18, 11, 8, 7, -1, -1, 10, -1, -1, 15, 14, -1, -1, 17, -1, -1, 26, 23, 22, -1, -1, 25, -1, -1, 30, 29, -1, -1, 32, -1, -1, 45, 40, 39, 38, -1, -1, -1, 44, 43, -1, -1, -1, 51, 48, -1, 50, -1, -1, -1, 80, 69, 62, 59, 58, -1, -1, 61, -1, -1, 66, 65, -1, -1, 68, -1, -1, 75, 74, 73, -1, -1, -1, 79, 78, -1, -1, -1, 92, 87, 86, 85, -1, -1, -1, 89, -1, 91, -1, -1, 96, 95, -1, -1, -1
};
const uint8_t urgency_leaf[] = {
  255, 255, 255, 255, 255, 255, 0, 2, 255, 2, 1, 255, 255, 2, 1, 255, 1, 2, 255, 255, 255, 0, 0, 255, 1, 2, 255, 255, 2, 2, 255, 1, 2, 255, 255, 255, 255, 1, 2, 1, 255, 255, 1, 2, 2, 255, 255, 2, 255, 1, 2, 1, 255, 255, 255, 255, 255, 2, 1, 255, 1, 2, 255, 255, 1, 1, 255, 1, 2, 255, 255, 255, 2, 2, 1, 255, 255, 2, 1, 0, 255, 255, 255, 255, 0, 1, 1, 255, 0, 255, 1, 0, 255, 255, 0, 1, 1
};

int8_t urgency_predict(const float* x) {
  int16_t node = 0;
  while (1) {
    if (urgency_leaf[node] != 255)
      return (int8_t)urgency_leaf[node];
    int16_t f = urgency_feature[node];
    if (f < 0 || f >= 82) return -1;
    if (x[f] <= urgency_threshold[node])
      node = urgency_left[node];
    else
      node = urgency_right[node];
  }
}


// urgency: nodes=97 depth=6 ~1067 bytes


static const uint8_t INTENT_CLASS_COUNT = 9;
static const char* const INTENT_CLASSES[] = {
  "DANGER",
  "DISASTER",
  "EVAC",
  "FOOD",
  "INFO",
  "MEDIC",
  "SHELTER",
  "SICKNESS",
  "WATER",
};
